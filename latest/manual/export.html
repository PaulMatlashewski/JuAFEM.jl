<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Export · JuAFEM.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>JuAFEM.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../index.html">Home</a></li><li><a class="toctext" href="fe_intro.html">Introduction to FEM</a></li><li><span class="toctext">Manual</span><ul><li><a class="toctext" href="cell_integration.html">Cell Integration</a></li><li><a class="toctext" href="degrees_of_freedom.html">Degrees of Freedom</a></li><li><a class="toctext" href="assembly.html">Assembly</a></li><li><a class="toctext" href="boundary_conditions.html">Boundary Conditions</a></li><li><a class="toctext" href="grid.html">Grid</a></li><li class="current"><a class="toctext" href="export.html">Export</a><ul class="internal"><li><a class="toctext" href="#Exporting-with-DofHandler-1">Exporting with <code>DofHandler</code></a></li><li><a class="toctext" href="#Exporting-Boundary-Conditions-1">Exporting Boundary Conditions</a></li></ul></li></ul></li><li><span class="toctext">Examples</span><ul><li><a class="toctext" href="../examples/generated/heat_equation.html">Heat Equation</a></li><li><a class="toctext" href="../examples/generated/incompressible_elasticity.html">Incompressible Elasticity</a></li></ul></li><li><span class="toctext">API Reference</span><ul><li><a class="toctext" href="../reference/quadrature.html">Quadrature</a></li><li><a class="toctext" href="../reference/interpolations.html">Interpolation</a></li><li><a class="toctext" href="../reference/fevalues.html">FEValues</a></li><li><a class="toctext" href="../reference/dofhandler.html">DofHandler</a></li><li><a class="toctext" href="../reference/assembly.html">Assembly</a></li><li><a class="toctext" href="../reference/boundary_conditions.html">Boundary Conditions</a></li><li><a class="toctext" href="../reference/grid.html">Grid</a></li><li><a class="toctext" href="../reference/export.html">Export</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Manual</li><li><a href="export.html">Export</a></li></ul><a class="edit-page" href="https://github.com/KristofferC/JuAFEM.jl/blob/master/docs/src/manual/export.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Export</span><a class="fa fa-bars" href="#"></a></div></header><div></div><h1><a class="nav-anchor" id="Export-1" href="#Export-1">Export</a></h1><p>When the problem is solved, and the solution vector <code>u</code> is known we typically want to visualize it. The simplest way to do this is to write the solution to a VTK-file, which can be viewed in e.g. <a href="https://www.paraview.org/"><code>Paraview</code></a>. To write VTK-files, JuAFEM uses, and extends, functions from the <a href="https://github.com/jipolanco/WriteVTK.jl"><code>WriteVTK.jl</code></a> package to simplify the exporting.</p><p>First we need to create a file, based on the grid. This is done with the <code>vtk_grid</code> function:</p><div><pre><code class="language-julia">vtk = vtk_grid(&quot;my-solution&quot;, grid)</code></pre></div><p>Next we have to add data to the file. We may add different kinds of data; point data using <code>vtk_point_data</code> or cell data using <code>vtk_cell_data</code>. Point data is data for each nodal coordinate in the grid, for example our solution vector. Point data can be either scalars or vectors. Cell data is – as the name suggests – data for each cell. This can be for example the stress. As an example, lets add a solution vector <code>u</code> as point data, and a vector with stress for each cell, <code>σ</code>, as cell data:</p><div><pre><code class="language-julia">vtk_point_data(vtk, u, &quot;my-point-data&quot;)
vtk_cell_data(vtk,  σ, &quot;my-cell-data&quot;)</code></pre></div><p>Finally, we need to save the file to disk, using <code>vtk_save</code></p><div><pre><code class="language-julia">vtk_save(vtk)</code></pre></div><p>Alternatively, all of the above can be done using a <code>do</code> block:</p><div><pre><code class="language-julia">vtk_grid(&quot;my-solution&quot;, grid) do vtk
    vtk_point_data(vtk, u, &quot;my-point-data&quot;)
    vtk_cell_data(vtk, σ, &quot;my-cell-data&quot;)
end</code></pre></div><p>For other functionality, and more information refer to the <a href="https://github.com/jipolanco/WriteVTK.jl/blob/master/README.md"><code>WriteVTK.jl</code> README</a>. In particular, for exporting the solution at multiple time steps, the <a href="https://github.com/jipolanco/WriteVTK.jl#paraview-data-pvd-file-format">section on PVD files</a> is useful.</p><h2><a class="nav-anchor" id="Exporting-with-DofHandler-1" href="#Exporting-with-DofHandler-1">Exporting with <code>DofHandler</code></a></h2><p>There is an even more convenient way to export a solution vector <code>u</code> – using the <code>DofHandler</code>. The <code>DofHandler</code> already contains all of the information needed, such as the names of our fields and if they are scalar or vector fields. But most importantly the <code>DofHandler</code> knows about the numbering and distribution of degrees of freedom, and thus knows how to &quot;distribute&quot; the solution vector on the grid. For example, lets say we have a <code>DofHandler</code> <code>dh</code> and a solution vector <code>u</code>:</p><div><pre><code class="language-julia">vtk = vtk_grid(&quot;my-solution&quot;, dh)
vtk_point_data(vtk, dh, u)
vtk_save(vtk)</code></pre></div><p>or with a <code>do</code>-block:</p><div><pre><code class="language-julia">vtk_grid(&quot;my-solution&quot;, dh) do vtk
    vtk_point_data(vtk, dh, u)
    vtk_cell_data(vtk, σ, &quot;my-cell-data&quot;)
end</code></pre></div><p>When <code>vtk_point_data</code> is used with a <code>DofHandler</code> all of the fields will be written to the VTK file, and the names will be determined by the fieldname symbol that was used when the field was added to the <code>DofHandler</code>.</p><h2><a class="nav-anchor" id="Exporting-Boundary-Conditions-1" href="#Exporting-Boundary-Conditions-1">Exporting Boundary Conditions</a></h2><p>There is also a <code>vtk_point_data</code> which accepts a <code>ConstraintHandler</code>. This method is useful to verify that the boundary conditions are applied where they are supposed to. For a <code>ConstraintHandler</code> <code>ch</code> we can export the boundary conditions as</p><pre><code class="language-julia">vtk_grid(&quot;boundary-conditions&quot;, grid) do vtk
    vtk_point_data(vtk, ch)
end</code></pre><p>This will export zero-valued fields with ones on the parts where the boundary conditions are active.</p><footer><hr/><a class="previous" href="grid.html"><span class="direction">Previous</span><span class="title">Grid</span></a><a class="next" href="../examples/generated/heat_equation.html"><span class="direction">Next</span><span class="title">Heat Equation</span></a></footer></article></body></html>
